"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.messagePlugin = void 0;
const tslib_1 = require("tslib");
const fastify_plugin_1 = tslib_1.__importDefault(require("fastify-plugin"));
const message_handler_1 = require("../handler/message.handler");
async function message(server, opt, done) {
    server.post('/message', message_handler_1.messageHandler);
    server.get('/messages', message_handler_1.getMessageHandler);
    server.get('/message', message_handler_1.getPagingMessageHandler);
    done();
}
;
exports.messagePlugin = (0, fastify_plugin_1.default)(message);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVzc2FnZS5yb3V0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvYWRtaW4vcm91dGVyL21lc3NhZ2Uucm91dGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSw0RUFBZ0M7QUFDaEMsZ0VBQXdHO0FBR3hHLEtBQUssVUFBVSxPQUFPLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJO0lBQ3BDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLGdDQUFjLENBQUMsQ0FBQztJQUN4QyxNQUFNLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxtQ0FBaUIsQ0FBQyxDQUFBO0lBQzFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLHlDQUF1QixDQUFDLENBQUE7SUFFL0MsSUFBSSxFQUFFLENBQUM7QUFDWCxDQUFDO0FBQUEsQ0FBQztBQUVXLFFBQUEsYUFBYSxHQUFHLElBQUEsd0JBQUUsRUFBQyxPQUFPLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcCBmcm9tICdmYXN0aWZ5LXBsdWdpbic7XG5pbXBvcnQgeyBnZXRNZXNzYWdlSGFuZGxlciwgZ2V0UGFnaW5nTWVzc2FnZUhhbmRsZXIsIG1lc3NhZ2VIYW5kbGVyIH0gZnJvbSBcIi4uL2hhbmRsZXIvbWVzc2FnZS5oYW5kbGVyXCI7XG5cblxuYXN5bmMgZnVuY3Rpb24gbWVzc2FnZShzZXJ2ZXIsIG9wdCwgZG9uZSkge1xuICAgIHNlcnZlci5wb3N0KCcvbWVzc2FnZScsIG1lc3NhZ2VIYW5kbGVyKTtcbiAgICBzZXJ2ZXIuZ2V0KCcvbWVzc2FnZXMnLCBnZXRNZXNzYWdlSGFuZGxlcilcbiAgICBzZXJ2ZXIuZ2V0KCcvbWVzc2FnZScsIGdldFBhZ2luZ01lc3NhZ2VIYW5kbGVyKVxuXG4gICAgZG9uZSgpO1xufTtcblxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VQbHVnaW4gPSBmcChtZXNzYWdlKTtcbiJdfQ==